{% extends "staff/base_staff.html" %}

{% block title %}Dashboard Staff - VolleyChamp{% endblock %}

{% block content %}
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ  HEADER DASHBOARD
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="staff-header">
    <h1>ğŸ  Dashboard Staff</h1>
    <p class="user-info">
        ConnectÃ© en tant que <strong>{{ user.get_full_name|default:user.username }}</strong>
        | {{ "aujourd'hui"|date:"l d F Y" }}
    </p>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ“Š STATISTIQUES CANDIDATURES
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="dashboard-section">
    <h2 class="section-title">ğŸ“‹ Candidatures Ã  l'organisation</h2>
    
    <div class="stats-grid">
        <div class="stat-card stat-warning">
            <div class="stat-icon">â³</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_candidatures_en_attente }}</div>
                <div class="stat-label">En attente</div>
            </div>
        </div>
        
        <div class="stat-card stat-success">
            <div class="stat-icon">âœ…</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_candidatures_validees }}</div>
                <div class="stat-label">ValidÃ©es</div>
            </div>
        </div>
        
        <div class="stat-card stat-danger">
            <div class="stat-icon">âŒ</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_candidatures_refusees }}</div>
                <div class="stat-label">RefusÃ©es</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ“Š</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_candidatures_total }}</div>
                <div class="stat-label">Total</div>
            </div>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ—“ï¸ STATISTIQUES TOURNOIS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="dashboard-section">
    <h2 class="section-title">ğŸ—“ï¸ Tournois</h2>
    
    <div class="stats-grid">
        <div class="stat-card stat-info">
            <div class="stat-icon">ğŸ“…</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_tournois_a_venir }}</div>
                <div class="stat-label">Ã€ venir</div>
            </div>
        </div>
        
        <div class="stat-card stat-warning">
            <div class="stat-icon">ğŸ•</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_tournois_planifies }}</div>
                <div class="stat-label">PlanifiÃ©s</div>
            </div>
        </div>
        
        <div class="stat-card stat-success">
            <div class="stat-icon">âœ”ï¸</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_tournois_confirmes }}</div>
                <div class="stat-label">ConfirmÃ©s</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_tournois_total }}</div>
                <div class="stat-label">Total</div>
            </div>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ“Š STATISTIQUES DÃ‰CLARATIONS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="dashboard-section">
    <h2 class="section-title">ğŸ“Š DÃ©clarations d'Ã©quipes</h2>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">ğŸ“</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_declarations_total }}</div>
                <div class="stat-label">DÃ©clarations</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_equipes_total }}</div>
                <div class="stat-label">Ã‰quipes</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ¢</div>
            <div class="stat-content">
                <div class="stat-number">{{ nb_clubs_declarants }}</div>
                <div class="stat-label">Clubs</div>
            </div>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ¯ ACTIONS RAPIDES
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="dashboard-section">
    <h2 class="section-title">ğŸ¯ Actions rapides</h2>
    
    <div class="actions-grid">
        <a href="#" class="action-card action-primary" title="BientÃ´t disponible - Ã‰tape 2">
            <div class="action-icon">â•</div>
            <div class="action-content">
                <h3>CrÃ©er un tournoi</h3>
                <p>Planifier un nouveau tournoi</p>
            </div>
        </a>
        
        <a href="#" class="action-card action-warning" title="BientÃ´t disponible - Ã‰tape 3">
            <div class="action-icon">ğŸ“‹</div>
            <div class="action-content">
                <h3>GÃ©rer les candidatures</h3>
                <p>{{ nb_candidatures_en_attente }} en attente</p>
            </div>
        </a>
        
        <a href="#" class="action-card action-info" title="BientÃ´t disponible - Ã‰tape 4">
            <div class="action-icon">ğŸ“Š</div>
            <div class="action-content">
                <h3>Consulter les dÃ©clarations</h3>
                <p>Voir toutes les inscriptions</p>
            </div>
        </a>
        
        {% if user.is_superuser %}
        <a href="{% url 'admin:index' %}" class="action-card" target="_blank">
            <div class="action-icon">âš™ï¸</div>
            <div class="action-content">
                <h3>Admin Django</h3>
                <p>Console d'administration complÃ¨te</p>
            </div>
        </a>
        {% endif %}
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ“… PROCHAINS TOURNOIS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
{% if prochains_tournois %}
<section class="dashboard-section">
    <h2 class="section-title">ğŸ“… Prochains tournois ({{ prochains_tournois|length }})</h2>
    
    <div class="tournois-list">
        {% for tournoi in prochains_tournois %}
        <div class="tournoi-card">
            <div class="tournoi-header">
                <h3>{{ tournoi.date|date:"l d F Y" }}</h3>
                <span class="badge badge-{{ tournoi.statut|lower }}">
                    {{ tournoi.get_statut_display }}
                </span>
            </div>
            
            <div class="tournoi-body">
                <div class="tournoi-info">
                    <strong>{{ tournoi.get_categorie_age_display }} - {{ tournoi.get_sexe_display }}</strong>
                    {% if tournoi.zone %}
                        <span class="tournoi-zone">{{ tournoi.get_zone_display }}</span>
                    {% endif %}
                </div>
                
                {% if tournoi.club_organisateur %}
                <div class="tournoi-org">
                    <span class="label">Organisateur :</span>
                    {{ tournoi.club_organisateur.nom }}
                    {% if tournoi.lieu %}
                        <span class="lieu">ğŸ“ {{ tournoi.lieu }}</span>
                    {% endif %}
                </div>
                {% else %}
                <div class="tournoi-org no-org">
                    <span class="label">â³ Recherche organisateur</span>
                </div>
                {% endif %}
                
                <div class="tournoi-stats">
                    <span class="stat">
                        ğŸ“‹ {{ tournoi.nb_candidatures_calculees }} candidature{{ tournoi.nb_candidatures_calculees|pluralize }}
                    </span>
                    <span class="stat">
                        ğŸ“ {{ tournoi.nb_declarations_calculees }} dÃ©claration{{ tournoi.nb_declarations_calculees|pluralize }}
                    </span>
                    <span class="stat">
                        ğŸ‘¥ {{ tournoi.nb_equipes_calculees }} Ã©quipe{{ tournoi.nb_equipes_calculees|pluralize }}
                    </span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸš¨ CANDIDATURES EN ATTENTE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
{% if candidatures_recentes %}
<section class="dashboard-section">
    <h2 class="section-title">ğŸš¨ Candidatures rÃ©centes en attente</h2>
    
    <div class="candidatures-list">
        {% for candidature in candidatures_recentes %}
        <div class="candidature-card">
            <div class="candidature-header">
                <h4>{{ candidature.club.nom }}</h4>
                <span class="badge badge-warning">En attente</span>
            </div>
            
            <div class="candidature-body">
                <div class="candidature-tournoi">
                    ğŸ—“ï¸ {{ candidature.tournoi }}
                </div>
                <div class="candidature-lieu">
                    ğŸ“ {{ candidature.lieu }}
                </div>
                <div class="candidature-date">
                    ğŸ• DÃ©posÃ©e le {{ candidature.created_at|date:"d/m/Y Ã  H:i" }}
                </div>
            </div>
            
            <div class="candidature-actions">
                <button class="btn btn-sm btn-success" disabled title="BientÃ´t disponible - Ã‰tape 3">
                    âœ… Valider
                </button>
                <button class="btn btn-sm btn-danger" disabled title="BientÃ´t disponible - Ã‰tape 3">
                    âŒ Refuser
                </button>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <div style="text-align: center; margin-top: 1rem;">
        <a href="#" class="btn btn-primary" title="BientÃ´t disponible - Ã‰tape 3">
            Voir toutes les candidatures â†’
        </a>
    </div>
</section>
{% endif %}
{% endblock %}
